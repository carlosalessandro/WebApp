<div class="container-fluid py-4">
  <div class="row mb-4">
    <div class="col-12">
      <h2><i class="bi bi-people-fill me-2"></i>Dashboard CRM</h2>
      <p class="text-muted">Gestão de Relacionamento com Clientes</p>
    </div>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Carregando...</span>
    </div>
  </div>

  <!-- Stats Cards -->
  <div *ngIf="!loading">
    <!-- Leads -->
    <div class="row mb-4">
      <div class="col-12">
        <h4 class="mb-3"><i class="bi bi-person-plus me-2"></i>Leads</h4>
      </div>
      <div class="col-md-3 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Total de Leads</h6>
                <h2 class="mb-0">{{ stats.totalLeads }}</h2>
              </div>
              <div class="stat-icon bg-primary">
                <i class="bi bi-people"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Leads Novos</h6>
                <h2 class="mb-0">{{ stats.leadsNovos }}</h2>
              </div>
              <div class="stat-icon bg-info">
                <i class="bi bi-star"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Qualificados</h6>
                <h2 class="mb-0">{{ stats.leadsQualificados }}</h2>
              </div>
              <div class="stat-icon bg-warning">
                <i class="bi bi-check-circle"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Convertidos</h6>
                <h2 class="mb-0">{{ stats.leadsConvertidos }}</h2>
              </div>
              <div class="stat-icon bg-success">
                <i class="bi bi-trophy"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Oportunidades -->
    <div class="row mb-4">
      <div class="col-12">
        <h4 class="mb-3"><i class="bi bi-bullseye me-2"></i>Oportunidades</h4>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Total</h6>
                <h2 class="mb-0">{{ stats.totalOportunidades }}</h2>
              </div>
              <div class="stat-icon bg-primary">
                <i class="bi bi-briefcase"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Em Aberto</h6>
                <h2 class="mb-0">{{ stats.oportunidadesAbertas }}</h2>
              </div>
              <div class="stat-icon bg-warning">
                <i class="bi bi-hourglass-split"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Valor Pipeline</h6>
                <h3 class="mb-0">{{ formatCurrency(stats.valorPipeline) }}</h3>
              </div>
              <div class="stat-icon bg-success">
                <i class="bi bi-currency-dollar"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Campanhas e Performance -->
    <div class="row mb-4">
      <div class="col-md-4 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Campanhas Ativas</h6>
                <h2 class="mb-0">{{ stats.campanhasAtivas }}</h2>
              </div>
              <div class="stat-icon bg-info">
                <i class="bi bi-megaphone"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Leads Este Mês</h6>
                <h2 class="mb-0">{{ stats.leadsEsteMes }}</h2>
              </div>
              <div class="stat-icon bg-primary">
                <i class="bi bi-calendar-check"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card stat-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="text-muted mb-2">Taxa de Conversão</h6>
                <h2 class="mb-0">{{ stats.taxaConversao }}%</h2>
              </div>
              <div class="stat-icon bg-success">
                <i class="bi bi-graph-up-arrow"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0"><i class="bi bi-lightning me-2"></i>Ações Rápidas</h5>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-3 mb-2">
                <button class="btn btn-outline-primary w-100">
                  <i class="bi bi-person-plus me-2"></i>Novo Lead
                </button>
              </div>
              <div class="col-md-3 mb-2">
                <button class="btn btn-outline-success w-100">
                  <i class="bi bi-bullseye me-2"></i>Nova Oportunidade
                </button>
              </div>
              <div class="col-md-3 mb-2">
                <button class="btn btn-outline-info w-100">
                  <i class="bi bi-megaphone me-2"></i>Nova Campanha
                </button>
              </div>
              <div class="col-md-3 mb-2">
                <button class="btn btn-outline-warning w-100">
                  <i class="bi bi-file-earmark-check me-2"></i>Nova Proposta
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
