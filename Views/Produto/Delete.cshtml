@model WebApp.Models.Produto

@{
    ViewData["Title"] = "Excluir Produto";
}

<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2><i class="bi bi-trash"></i> Excluir Produto</h2>
                <a asp-action="Index" class="btn btn-secondary">
                    <i class="bi bi-arrow-left"></i> Voltar
                </a>
            </div>

            <div class="alert alert-warning" role="alert">
                <i class="bi bi-exclamation-triangle"></i>
                <strong>Atenção!</strong> Esta ação não pode ser desfeita. O produto será permanentemente excluído.
            </div>

            <div class="row">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0"><i class="bi bi-info-circle"></i> Confirmação de Exclusão</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Nome:</label>
                                        <div class="p-2 bg-light rounded">
                                            @Html.DisplayFor(model => model.Nome)
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Código:</label>
                                        <div class="p-2 bg-light rounded">
                                            @Html.DisplayFor(model => model.Codigo)
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Preço:</label>
                                        <div class="p-2 bg-light rounded">
                                            <span class="h5 text-primary">@Model.Preco.ToString("C")</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Estoque:</label>
                                        <div class="p-2 bg-light rounded">
                                            <span class="h6">@Html.DisplayFor(model => model.QuantidadeEstoque)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Categoria:</label>
                                        <div class="p-2 bg-light rounded">
                                            @if (Model.Categoria != null)
                                            {
                                                <span class="badge bg-info">@Model.Categoria.Nome</span>
                                            }
                                            else
                                            {
                                                <span class="text-muted">Não categorizado</span>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Status:</label>
                                        <div class="p-2 bg-light rounded">
                                            @if (Model.Ativo)
                                            {
                                                <span class="badge bg-success">Ativo</span>
                                            }
                                            else
                                            {
                                                <span class="badge bg-secondary">Inativo</span>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>

                            @if (!string.IsNullOrEmpty(Model.Descricao))
                            {
                                <div class="mb-3">
                                    <label class="form-label fw-bold">Descrição:</label>
                                    <div class="p-2 bg-light rounded">
                                        @Html.DisplayFor(model => model.Descricao)
                                    </div>
                                </div>
                            }

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Marca:</label>
                                        <div class="p-2 bg-light rounded">
                                            @Html.DisplayFor(model => model.Marca)
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Modelo:</label>
                                        <div class="p-2 bg-light rounded">
                                            @Html.DisplayFor(model => model.Modelo)
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Cor:</label>
                                        <div class="p-2 bg-light rounded">
                                            @Html.DisplayFor(model => model.Cor)
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Tamanho:</label>
                                        <div class="p-2 bg-light rounded">
                                            @Html.DisplayFor(model => model.Tamanho)
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Peso:</label>
                                        <div class="p-2 bg-light rounded">
                                            @Html.DisplayFor(model => model.Peso)
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label fw-bold">Dimensões:</label>
                                <div class="p-2 bg-light rounded">
                                    @Html.DisplayFor(model => model.Dimensoes)
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Data de Criação:</label>
                                        <div class="p-2 bg-light rounded">
                                            @Html.DisplayFor(model => model.DataCriacao)
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Destaque:</label>
                                        <div class="p-2 bg-light rounded">
                                            @if (Model.Destaque)
                                            {
                                                <span class="badge bg-warning text-dark">Destaque</span>
                                            }
                                            else
                                            {
                                                <span class="badge bg-secondary">Normal</span>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>

                            @if (Model.Imagens.Any())
                            {
                                <div class="alert alert-danger" role="alert">
                                    <i class="bi bi-exclamation-triangle"></i>
                                    <strong>Este produto possui @Model.Imagens.Count() imagem(ns)!</strong> Todas as imagens também serão excluídas.
                                </div>
                            }

                            <form asp-action="Delete" method="post" class="mt-4">
                                <input asp-for="Id" type="hidden" />
                                <div class="d-flex justify-content-between">
                                    <a asp-action="Index" class="btn btn-secondary">
                                        <i class="bi bi-x-circle"></i> Cancelar
                                    </a>
                                    <button type="submit" class="btn btn-danger">
                                        <i class="bi bi-trash"></i> Confirmar Exclusão
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0"><i class="bi bi-images"></i> Imagens do Produto</h5>
                        </div>
                        <div class="card-body">
                            @if (Model.Imagens.Any())
                            {
                                <div class="row">
                                    @foreach (var imagem in Model.Imagens.OrderBy(i => i.Ordem))
                                    {
                                        <div class="col-6 mb-3">
                                            <div class="card">
                                                <img src="@imagem.Caminho" class="card-img-top" alt="@imagem.Titulo" style="height: 120px; object-fit: cover;">
                                                <div class="card-body p-2">
                                                    <small class="text-muted">@imagem.Titulo</small>
                                                    @if (imagem.Principal)
                                                    {
                                                        <span class="badge bg-primary">Principal</span>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            }
                            else
                            {
                                <div class="text-center py-3">
                                    <i class="bi bi-image text-muted" style="font-size: 2rem;"></i>
                                    <p class="text-muted mt-2">Nenhuma imagem</p>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



